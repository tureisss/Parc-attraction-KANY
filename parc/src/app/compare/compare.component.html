<div class="compare-container">
  <header class="compare-header">
    <h1 i18n="@@compareTitle">Comparateur d'attractions</h1>
    <p i18n="@@compareSubtitle">Sélectionne deux coasters et compare leurs stats</p>
  </header>

  <div class="selectors">
    <mat-form-field appearance="outline" class="selector">
      <mat-label i18n="@@compareLeft">Attraction A</mat-label>
      <mat-select [(ngModel)]="leftId">
        <mat-option *ngFor="let attraction of attractions" [value]="attraction.attraction_id">
          {{ attraction.nom }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="vs-badge">VS</div>

    <mat-form-field appearance="outline" class="selector">
      <mat-label i18n="@@compareRight">Attraction B</mat-label>
      <mat-select [(ngModel)]="rightId">
        <mat-option *ngFor="let attraction of attractions" [value]="attraction.attraction_id">
          {{ attraction.nom }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="compare-grid" *ngIf="leftAttraction && rightAttraction">
    <mat-card class="blog-card compare-card">
      <div class="card-image" [style.background-image]="'url(assets/coasters/' + getImageName(leftAttraction.nom) + '.svg)'">
        <div class="difficulty-badge">
           <span class="star filled">⭐</span> {{ leftAttraction.difficulte }}/5
        </div>
      </div>
      <div class="card-content">
        <h2 class="attraction-title">{{ leftAttraction.nom }}</h2>
        <p class="attraction-description">{{ leftAttraction.description }}</p>
        
        <div class="stats-container-vertical">
          <div class="stat-row" [class.winner]="isLeftWinner(leftAttraction.vitesse, rightAttraction.vitesse)">
            <span class="stat-label" i18n="@@statSpeed">Vitesse</span>
            <span class="stat-value">{{ leftAttraction.vitesse || '-' }} km/h</span>
          </div>
          <div class="stat-row" [class.winner]="isLeftWinner(leftAttraction.longueur, rightAttraction.longueur)">
            <span class="stat-label" i18n="@@statLength">Longueur</span>
            <span class="stat-value">{{ leftAttraction.longueur || '-' }} m</span>
          </div>
          <div class="stat-row" [class.winner]="isLeftWinner(leftAttraction.hauteur, rightAttraction.hauteur)">
            <span class="stat-label" i18n="@@statHeight">Hauteur</span>
            <span class="stat-value">{{ leftAttraction.hauteur || '-' }} m</span>
          </div>
          <div class="stat-row" [class.winner]="isLeftWinner(leftAttraction.duree, rightAttraction.duree)">
            <span class="stat-label" i18n="@@statDuration">Durée</span>
            <span class="stat-value">{{ leftAttraction.duree || '-' }} s</span>
          </div>
        </div>
      </div>
    </mat-card>

    <mat-card class="blog-card compare-card">
      <div class="card-image" [style.background-image]="'url(assets/coasters/' + getImageName(rightAttraction.nom) + '.svg)'">
        <div class="difficulty-badge">
           <span class="star filled">⭐</span> {{ rightAttraction.difficulte }}/5
        </div>
      </div>
      <div class="card-content">
        <h2 class="attraction-title">{{ rightAttraction.nom }}</h2>
        <p class="attraction-description">{{ rightAttraction.description }}</p>
        
        <div class="stats-container-vertical">
          <div class="stat-row" [class.winner]="isRightWinner(leftAttraction.vitesse, rightAttraction.vitesse)">
            <span class="stat-label" i18n="@@statSpeed">Vitesse</span>
            <span class="stat-value">{{ rightAttraction.vitesse || '-' }} km/h</span>
          </div>
          <div class="stat-row" [class.winner]="isRightWinner(leftAttraction.longueur, rightAttraction.longueur)">
            <span class="stat-label" i18n="@@statLength">Longueur</span>
            <span class="stat-value">{{ rightAttraction.longueur || '-' }} m</span>
          </div>
          <div class="stat-row" [class.winner]="isRightWinner(leftAttraction.hauteur, rightAttraction.hauteur)">
            <span class="stat-label" i18n="@@statHeight">Hauteur</span>
            <span class="stat-value">{{ rightAttraction.hauteur || '-' }} m</span>
          </div>
          <div class="stat-row" [class.winner]="isRightWinner(leftAttraction.duree, rightAttraction.duree)">
            <span class="stat-label" i18n="@@statDuration">Durée</span>
            <span class="stat-value">{{ rightAttraction.duree || '-' }} s</span>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</div>